# WebChat
Web即时聊天
账户模块 ：
实现功能：登录、注册、忘记密码、修改个人信息、上传/修改个人头像、密码加密、类似qq的等级系统、

注册：
用户填写表单（包括选择默认头像）、js正则表达式校验确认后、成功提交表单（保证用户信息数量和格式正确）。
调用注册方法（判断验证码是否正确，成功后向数据库插入注册用户的信息）。

登录：
用户填写表单、js正则表达式校验确认后、成功提交表单（保证用户信息数量和格式正确）。调用登录方法（首先判断验证码是否正确，再判断表单输入的用户名和密码是否与数据库里的用户名和密码对应），登录成功，访问登录成功页面，显示个人信息（通过Session保存当前登录用户id，调用获取当前用户信息方法，返回用户信息）;登录失败，写回登录失败信息，在登录页面显示登录失败信息

忘记密码：
方案一：通过注册的邮重置密码，需要注册的时候进行邮箱激活
方案二：通过手机号验证重置密码，需要注册的时候用手机号获取验证码
方案三：在注册时设置密保与答案存储在数据库中，通过回答问题重置密码
方案四：采用第三方登录，可免去注册和登录和忘记密码的实现

修改个人信息：
用户登录成功按修改键，服务通过session获得当前用户的id，
调用获取当前用户信息的方法进行信息回显;然后用户修改表单，通过js正则表达式后提交表单;
服务器调用更新信息的方法更新用户信息,更新成功后返回当前登录成功页面

上传/修改个人头像：
如果要上传头像并要显示的话，可以调用复制文件方法来将获取的头像另外复制一份放在工程目录下，并修改其文件名(防止名字相同有冲突)。
在html页面中可通过设置表单在获取信息，注意的是由于表单的enctype属性要设为"multipart/form-data"，设置为该属性可以上传文件。
创建servlet来对数据进行封装，进行将图片添加指定的项目文件中，并改成与用户有相同的id名称，页面可通过session获取用户的id后，获取图片的名称
修改头像则是先上传头像，再进行覆盖操作

密码加密：
调用密码加密的方法，将用户输入的密码进行转换，将转换后的数据存入数据库

等级系统：
监听用户登录时创建session和退出时销毁session的时间差，然后与数据库表中的以往登录时间累加，调用判断等级方法获得该用户的等级


好友模块：
可以与好友一对一聊天、支持对好友的管理（增、删、查）、支持好友昵称、支持好友互传文件
好友一对一聊天：使用websocket相关技术（还不了解怎么实现）
好友的管理（增、删、查），调用相应的（增、删、查）方法
好友昵称：好友表中有好友昵称字段，调用修改方法修改指定好友昵称
好友互传文件：使用socket相关技术（也还不了解怎么实现）


群聊模块：
支持创建群、群主可以对群成员、群信息进行管理、群主退群时自动任命新群主、群内共享文件、可编辑群公告、发布群公告、群主可以开启个别成员禁言功能、群聊支持匿名聊天、增加聊天室管理系统，增加管理员角色，管理员管理所有群，所有用户，举报群操作
还是socket


聊天模块：
支持生成个人聊天记录、支持导出聊天记录、分页查看聊天记录、聊天时可发送表情、短时间保存聊天记录，定时删除时间久远的聊天记录、聊天记录按日期储存、上线可获取离线时的聊天记录，添加过滤规则
生成个人聊天记录：将聊天记录和发送的时间储存在数据库的聊天记录表中，每次用户点击历史回顾时，调用查询聊天记录的方法查找聊天记录
支持导出聊天记录：websocket
分页查看聊天记录：创建Page类封装页面信息，（包含记录总数、当前页数、具体的记录集合、所有页数、每页的记录数、当前页的开始记录数、当前页的结束记录数），再在service层中调用查询聊天记录的方法获得所有聊天记录封装给Page类，回传给前端进行输出
定时删除聊天记录：调用查询聊天记录的方法，在改方法内调用删除一定时间聊天记录的方法，自动删除聊天记录
添加过滤规则：采用过滤器，过滤掉所有在敏感词文本文件里的敏感词



用户表（id、用户名称，密码，姓名，性别，年龄，手机号，邮箱）
好友表（用户id、好友id、是否好友、好友昵称）
聊天记录表（记录id、发送者id、接收者id、发送时间、信息id）
聊天内容（信息id、内容）
群表（群id、群名称、群主id）
用户与群关系（关系id、用户id、群id）
